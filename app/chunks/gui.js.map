{"version":3,"file":"chunks/gui.js","sources":["webpack://GUI/./src/playground/index.css","webpack://GUI/./src/playground/index.css?5c54","webpack://GUI/./src/playground/index.jsx","webpack://GUI/./src/playground/render-gui.jsx","webpack://GUI/./locale-data/complete.js (ignored)"],"sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html,\\r\\nbody,\\r\\n.index_app_2mqDO {\\r\\n    /* probably unecessary, transitional until layout is refactored */\\r\\n    width: 100%; \\r\\n    height: 100%;\\r\\n    margin: 0;\\r\\n\\r\\n    /* Setting min height/width makes the UI scroll below those sizes */\\r\\n    min-width: 1024px;\\r\\n    min-height: 640px; /* Min height to fit sprite/backdrop button */\\r\\n}\\r\\n\\r\\n/* @todo: move globally? Safe / side FX, for blocks particularly? */\\r\\n\\r\\n* { box-sizing: border-box; }\\r\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"app\": \"index_app_2mqDO\"\n};","\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--5-1!../../node_modules/postcss-loader/src/index.js??postcss!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--5-1!../../node_modules/postcss-loader/src/index.js??postcss!./index.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--5-1!../../node_modules/postcss-loader/src/index.js??postcss!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Polyfills\r\nimport 'es6-object-assign/auto';\r\nimport 'core-js/fn/array/includes';\r\nimport 'core-js/fn/promise/finally';\r\nimport 'intl'; // For Safari 9\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport analytics from '../lib/analytics';\r\nimport AppStateHOC from '../lib/app-state-hoc.jsx';\r\nimport BrowserModalComponent from '../components/browser-modal/browser-modal.jsx';\r\nimport supportedBrowser from '../lib/supported-browser';\r\n\r\nimport styles from './index.css';\r\n\r\n// Register \"base\" page view\r\nanalytics.pageview('/');\r\n\r\nconst appTarget = document.createElement('div');\r\nappTarget.className = styles.app;\r\ndocument.body.appendChild(appTarget);\r\n\r\nif (supportedBrowser()) {\r\n    // require needed here to avoid importing unsupported browser-crashing code\r\n    // at the top level\r\n    require('./render-gui.jsx').default(appTarget);\r\n\r\n} else {\r\n    BrowserModalComponent.setAppElement(appTarget);\r\n    const WrappedBrowserModalComponent = AppStateHOC(BrowserModalComponent, true /* localesOnly */);\r\n    const handleBack = () => {};\r\n    // eslint-disable-next-line react/jsx-no-bind\r\n    ReactDOM.render(<WrappedBrowserModalComponent onBack={handleBack} />, appTarget);\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {compose} from 'redux';\r\n\r\nimport AppStateHOC from '../lib/app-state-hoc.jsx';\r\nimport GUI from '../containers/gui.jsx';\r\nimport HashParserHOC from '../lib/hash-parser-hoc.jsx';\r\nimport log from '../lib/log.js';\r\n\r\nconst onClickLogo = () => {\r\n    window.open('https://sites.google.com/view/scminisourse/home', '_blank');\r\n};\r\n\r\nconst handleTelemetryModalCancel = () => {\r\n    log('User canceled telemetry modal');\r\n};\r\n\r\nconst handleTelemetryModalOptIn = () => {\r\n    log('User opted into telemetry');\r\n};\r\n\r\nconst handleTelemetryModalOptOut = () => {\r\n    log('User opted out of telemetry');\r\n};\r\n\r\n/*\r\n * Render the GUI playground. This is a separate function because importing anything\r\n * that instantiates the VM causes unsupported browsers to crash\r\n * {object} appTarget - the DOM element to render to\r\n */\r\nexport default appTarget => {\r\n    GUI.setAppElement(appTarget);\r\n\r\n    // note that redux's 'compose' function is just being used as a general utility to make\r\n    // the hierarchy of HOC constructor calls clearer here; it has nothing to do with redux's\r\n    // ability to compose reducers.\r\n    const WrappedGui = compose(\r\n        AppStateHOC,\r\n        HashParserHOC\r\n    )(GUI);\r\n\r\n    // TODO a hack for testing the backpack, allow backpack host to be set by url param\r\n    const backpackHostMatches = window.location.href.match(/[?&]backpack_host=([^&]*)&?/);\r\n    const backpackHost = backpackHostMatches ? backpackHostMatches[1] : null;\r\n\r\n    const scratchDesktopMatches = window.location.href.match(/[?&]isScratchDesktop=([^&]+)/);\r\n    let simulateScratchDesktop;\r\n    if (scratchDesktopMatches) {\r\n        try {\r\n            // parse 'true' into `true`, 'false' into `false`, etc.\r\n            simulateScratchDesktop = JSON.parse(scratchDesktopMatches[1]);\r\n        } catch {\r\n            // it's not JSON so just use the string\r\n            // note that a typo like \"falsy\" will be treated as true\r\n            simulateScratchDesktop = scratchDesktopMatches[1];\r\n        }\r\n    }\r\n\r\n    if (process.env.NODE_ENV === 'production' && typeof window === 'object') {\r\n        // Warn before navigating away\r\n        window.onbeforeunload = () => true;\r\n    }\r\n\r\n    ReactDOM.render(\r\n        // important: this is checking whether `simulateScratchDesktop` is truthy, not just defined!\r\n        simulateScratchDesktop ?\r\n            <WrappedGui\r\n                canEditTitle\r\n                isScratchDesktop\r\n                showTelemetryModal\r\n                canSave={false}\r\n                onTelemetryModalCancel={handleTelemetryModalCancel}\r\n                onTelemetryModalOptIn={handleTelemetryModalOptIn}\r\n                onTelemetryModalOptOut={handleTelemetryModalOptOut}\r\n            /> :\r\n            <WrappedGui\r\n                canEditTitle\r\n                backpackVisible\r\n                showComingSoon\r\n                backpackHost={backpackHost}\r\n                canSave={false}\r\n                onClickLogo={onClickLogo}\r\n            />,\r\n        appTarget);\r\n};\r\n","/* (ignored) */"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AClCA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAKA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAGA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;;;;;;;;;;;ACpFA;;;;A","sourceRoot":""}